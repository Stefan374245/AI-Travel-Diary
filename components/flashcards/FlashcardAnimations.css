/* Modern 3D Flashcard Animations - 2025 Design */

/* Perspective Container */
.flashcard-perspective {
  perspective: 1500px;
  perspective-origin: center;
}

/* 3D Card Flip */
.flashcard-3d {
  position: relative;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
  transition: all 0.6s cubic-bezier(0.4, 0.0, 0.2, 1);
}

.flashcard-3d.flipped {
  transform: rotateY(180deg);
}

/* Modern hover effect - lift and glow */
.flashcard-3d:hover {
  transform: translateY(-12px) scale(1.03);
  filter: drop-shadow(0 24px 48px rgba(0, 0, 0, 0.15));
}

.flashcard-3d.flipped:hover {
  transform: rotateY(180deg) translateZ(12px) scale(1.03);
  filter: drop-shadow(0 24px 48px rgba(0, 0, 0, 0.15));
}

/* Card Face Base - Clean white with subtle border */
.flashcard-face {
  position: absolute;
  width: 100%;
  height: 100%;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  border-radius: 20px;
  overflow: hidden;
  background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
  border: 1px solid rgba(0, 0, 0, 0.08);
  box-shadow: 
    0 1px 3px rgba(0, 0, 0, 0.05),
    0 10px 25px rgba(0, 0, 0, 0.08);
  transition: all 0.3s ease;
}

/* Remove all blur effects on content */
.flashcard-face * {
  -webkit-filter: none !important;
  filter: none !important;
  -webkit-backdrop-filter: none !important;
  backdrop-filter: none !important;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Front Face */
.flashcard-front {
  background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
}

/* Back Face */
.flashcard-back {
  background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
  transform: rotateY(180deg);
}

/* Image rendering improvements - crystal clear */
.flashcard-face img {
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
  -webkit-filter: none !important;
  filter: none !important;
}

/* Text rendering improvements - sharp and clear */
.flashcard-face p,
.flashcard-face span,
.flashcard-face div {
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-filter: none !important;
  filter: none !important;
}

/* Shimmer Animation for Study Mode */
@keyframes shimmer {
  0% {
    background-position: -200% center;
  }
  100% {
    background-position: 200% center;
  }
}

.flashcard-shimmer {
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.4) 50%,
    transparent 100%
  );
  background-size: 200% 100%;
  animation: shimmer 3s ease-in-out infinite;
}

/* Swipe Gesture Animations */
@keyframes swipe-hint {
  0%, 100% {
    transform: translateX(0);
  }
  50% {
    transform: translateX(10px);
  }
}

.flashcard-swipe-hint {
  animation: swipe-hint 2s ease-in-out infinite;
}

/* Success/Error Feedback */
@keyframes pulse-success {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7);
  }
  50% {
    box-shadow: 0 0 0 20px rgba(16, 185, 129, 0);
  }
}

@keyframes pulse-error {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);
  }
  50% {
    box-shadow: 0 0 0 20px rgba(239, 68, 68, 0);
  }
}

.flashcard-success {
  animation: pulse-success 0.6s ease-out;
}

.flashcard-error {
  animation: pulse-error 0.6s ease-out;
}

/* Card Stack Effect for Browse Mode */
.flashcard-stack {
  position: relative;
}

.flashcard-stack::before,
.flashcard-stack::after {
  content: '';
  position: absolute;
  top: 8px;
  left: 8px;
  right: 8px;
  bottom: -8px;
  background: rgba(255, 255, 255, 0.4);
  border-radius: 24px;
  border: 1px solid rgba(0, 0, 0, 0.05);
  z-index: -1;
}

.flashcard-stack::after {
  top: 16px;
  left: 16px;
  right: 16px;
  bottom: -16px;
  background: rgba(255, 255, 255, 0.2);
  z-index: -2;
}

/* Leitner Box Color Indicators */
.box-indicator-1 {
  background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
}

.box-indicator-2 {
  background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
}

.box-indicator-3 {
  background: linear-gradient(135deg, #eab308 0%, #ca8a04 100%);
}

.box-indicator-4 {
  background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
}

.box-indicator-5 {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
}

/* Micro-interactions */
@keyframes card-entry {
  from {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.flashcard-enter {
  animation: card-entry 0.4s cubic-bezier(0.4, 0.0, 0.2, 1) forwards;
}

/* Study Mode Slide Animations */
@keyframes slide-in-right {
  from {
    opacity: 0;
    transform: translateX(100%) rotateY(-15deg);
  }
  to {
    opacity: 1;
    transform: translateX(0) rotateY(0);
  }
}

@keyframes slide-out-left {
  from {
    opacity: 1;
    transform: translateX(0) rotateY(0);
  }
  to {
    opacity: 0;
    transform: translateX(-100%) rotateY(15deg);
  }
}

@keyframes slide-out-right {
  from {
    opacity: 1;
    transform: translateX(0) rotateY(0);
  }
  to {
    opacity: 0;
    transform: translateX(100%) rotateY(-15deg);
  }
}

.slide-in {
  animation: slide-in-right 0.5s cubic-bezier(0.4, 0.0, 0.2, 1);
}

.slide-out-left {
  animation: slide-out-left 0.4s cubic-bezier(0.4, 0.0, 0.2, 1);
}

.slide-out-right {
  animation: slide-out-right 0.4s cubic-bezier(0.4, 0.0, 0.2, 1);
}

/* Loading State */
@keyframes card-skeleton {
  0%, 100% {
    opacity: 0.4;
  }
  50% {
    opacity: 0.7;
  }
}

.flashcard-loading {
  animation: card-skeleton 1.5s ease-in-out infinite;
  background: linear-gradient(
    90deg,
    rgba(0, 0, 0, 0.03) 25%,
    rgba(0, 0, 0, 0.05) 50%,
    rgba(0, 0, 0, 0.03) 75%
  );
  background-size: 200% 100%;
}

/* Responsive Adjustments */
@media (max-width: 640px) {
  .flashcard-perspective {
    perspective: 1000px;
  }
  
  .flashcard-3d:hover {
    transform: translateY(-4px) scale(1.01);
  }
}

/* Accessibility - Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  .flashcard-3d,
  .flashcard-enter,
  .slide-in,
  .slide-out-left,
  .slide-out-right {
    animation: none;
    transition: none;
  }
  
  .flashcard-shimmer {
    animation: none;
  }
}

/* Image rendering improvements - crystal clear */
.flashcard-face img {
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
  -webkit-filter: none !important;
  filter: none !important;
}

/* Text rendering improvements - sharp and clear */
.flashcard-face p,
.flashcard-face span,
.flashcard-face div {
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-filter: none !important;
  filter: none !important;
}

/* Remove any blur effects */
.flashcard-glass {
  background: rgba(255, 255, 255, 1);
  -webkit-backdrop-filter: none;
  backdrop-filter: none;
}

/* Hover Effects */
.flashcard-3d:hover {
  box-shadow: 
    0 20px 60px rgba(0, 0, 0, 0.12),
    0 8px 16px rgba(0, 0, 0, 0.08);
}

.flashcard-3d.flipped:hover {
  transform: rotateY(180deg) translateY(-8px) scale(1.02);
}

/* Active/Press State */
.flashcard-3d:active {
  transform: scale(0.98);
}

/* Shimmer Animation for Study Mode */
@keyframes shimmer {
  0% {
    background-position: -200% center;
  }
  100% {
    background-position: 200% center;
  }
}

.flashcard-shimmer {
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.4) 50%,
    transparent 100%
  );
  background-size: 200% 100%;
  animation: shimmer 3s ease-in-out infinite;
}

/* Swipe Gesture Animations */
@keyframes swipe-hint {
  0%, 100% {
    transform: translateX(0);
  }
  50% {
    transform: translateX(10px);
  }
}

.flashcard-swipe-hint {
  animation: swipe-hint 2s ease-in-out infinite;
}

/* Success/Error Feedback */
@keyframes pulse-success {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7);
  }
  50% {
    box-shadow: 0 0 0 20px rgba(16, 185, 129, 0);
  }
}

@keyframes pulse-error {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);
  }
  50% {
    box-shadow: 0 0 0 20px rgba(239, 68, 68, 0);
  }
}

.flashcard-success {
  animation: pulse-success 0.6s ease-out;
}

.flashcard-error {
  animation: pulse-error 0.6s ease-out;
}

/* Card Stack Effect for Browse Mode */
.flashcard-stack {
  position: relative;
}

.flashcard-stack::before,
.flashcard-stack::after {
  content: '';
  position: absolute;
  top: 8px;
  left: 8px;
  right: 8px;
  bottom: -8px;
  background: rgba(255, 255, 255, 0.4);
  border-radius: 24px;
  border: 1px solid rgba(0, 0, 0, 0.05);
  z-index: -1;
}

.flashcard-stack::after {
  top: 16px;
  left: 16px;
  right: 16px;
  bottom: -16px;
  background: rgba(255, 255, 255, 0.2);
  z-index: -2;
}

/* Leitner Box Color Indicators */
.box-indicator-1 {
  background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
}

.box-indicator-2 {
  background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
}

.box-indicator-3 {
  background: linear-gradient(135deg, #eab308 0%, #ca8a04 100%);
}

.box-indicator-4 {
  background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
}

.box-indicator-5 {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
}

/* Micro-interactions */
@keyframes card-entry {
  from {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.flashcard-enter {
  animation: card-entry 0.4s cubic-bezier(0.4, 0.0, 0.2, 1) forwards;
}

/* Study Mode Slide Animations */
@keyframes slide-in-right {
  from {
    opacity: 0;
    transform: translateX(100%) rotateY(-15deg);
  }
  to {
    opacity: 1;
    transform: translateX(0) rotateY(0);
  }
}

@keyframes slide-out-left {
  from {
    opacity: 1;
    transform: translateX(0) rotateY(0);
  }
  to {
    opacity: 0;
    transform: translateX(-100%) rotateY(15deg);
  }
}

@keyframes slide-out-right {
  from {
    opacity: 1;
    transform: translateX(0) rotateY(0);
  }
  to {
    opacity: 0;
    transform: translateX(100%) rotateY(-15deg);
  }
}

.slide-in {
  animation: slide-in-right 0.5s cubic-bezier(0.4, 0.0, 0.2, 1);
}

.slide-out-left {
  animation: slide-out-left 0.4s cubic-bezier(0.4, 0.0, 0.2, 1);
}

.slide-out-right {
  animation: slide-out-right 0.4s cubic-bezier(0.4, 0.0, 0.2, 1);
}

/* Loading State */
@keyframes card-skeleton {
  0%, 100% {
    opacity: 0.4;
  }
  50% {
    opacity: 0.7;
  }
}

.flashcard-loading {
  animation: card-skeleton 1.5s ease-in-out infinite;
  background: linear-gradient(
    90deg,
    rgba(0, 0, 0, 0.03) 25%,
    rgba(0, 0, 0, 0.05) 50%,
    rgba(0, 0, 0, 0.03) 75%
  );
  background-size: 200% 100%;
}

/* Responsive Adjustments */
@media (max-width: 640px) {
  .flashcard-perspective {
    perspective: 1000px;
  }
  
  .flashcard-3d:hover {
    transform: translateY(-4px) scale(1.01);
  }
}

/* Accessibility - Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  .flashcard-3d,
  .flashcard-enter,
  .slide-in,
  .slide-out-left,
  .slide-out-right {
    animation: none;
    transition: none;
  }
  
  .flashcard-shimmer {
    animation: none;
  }
}
